<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    {% load static %}
    <!-- Include Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>

    <!-- Include Axios -->
    <script>
var group_id = {{group_id}}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="{% static 'js/home.js' %}"></script>
</head>
<body>
<div id="app">
    <!-- Sidebar for chat list -->
    <!-- TODO
    <div class="sidebar">
        <div v-for="chat in chats" :key="chat.id" class="chat-item" @click="selectChat(chat)">
            <div class="avatar"> AVATAR </div>
            <div class="chat-info">
                <h4> CHAT_NAME </h4>
                <p> LAST_MESSAGE </p>
    -->
    test

    <!-- Main chat window -->
    <div class="chat-window">
        <div class="messages">
            <div v-for="message in selectedChatMessages" :key="message.id"
                 :class="{'my-message': message.sender === 'me', 'their-message': message.sender !== 'me'}">
                <p>{{ message.content }}</p>
            </div>
        </div>

        <!-- Input area for new message -->
        <div class="message-input">
            <input v-model="newMessage" placeholder="Type a message..." @keyup.enter="sendMessage"/>
            <button @click="sendMessage">Send</button>
        </div>
    </div>
</div>
<style scoped>
    #messenger {
      display: flex;
      height: 100vh;
    }

    .sidebar {
      width: 30%;
      background: #f4f4f4;
      padding: 10px;
      border-right: 1px solid #ccc;
      overflow-y: auto;
    }

    .chat-item {
      display: flex;
      align-items: center;
      padding: 10px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .chat-item:hover {
      background: #eaeaea;
    }

    .avatar {
      width: 40px;
      height: 40px;
      background: #007bff;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 10px;
    }

    .chat-info h4 {
      margin: 0;
      font-size: 16px;
    }

    .chat-info p {
      margin: 0;
      font-size: 12px;
      color: gray;
    }

    .chat-window {
      width: 70%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .messages {
      flex-grow: 1;
      padding: 20px;
      background: #fff;
      overflow-y: auto;
    }

    .my-message {
      text-align: right;
      color: white;
      background-color: #007bff;
      padding: 10px;
      border-radius: 10px;
      margin: 5px 0;
    }

    .their-message {
      text-align: left;
      color: black;
      background-color: #eaeaea;
      padding: 10px;
      border-radius: 10px;
      margin: 5px 0;
    }

    .message-input {
      display: flex;
      padding: 10px;
      border-top: 1px solid #ccc;
    }

    .message-input input {
      flex-grow: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 20px;
      margin-right: 10px;
    }

    .message-input button {
      background: #007bff;
      color: white;
      border: none;
      border-radius: 20px;
      padding: 10px 20px;
      cursor: pointer;
    }
</style>
</body>
</html>